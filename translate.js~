var url = require('url');
var MsTranslator = require('mstranslator');
var client = new MsTranslator({
        client_id: "Solaode1",
        client_secret: "c38SiJaHmSS4ov8H/EVrmG0ps+rNZ/BgeDLUyCmJPXA="
    });


exports.translate = function(text, source_lang, dest_lang) {
    var params = {
	text: text,
	from: source_lang,
	to: dest_lang
    };
    console.log("From: " +params.from);
    console.log("To: " + params.to);
    console.log("Text: " + params.text);

    var translation = ""

    client.initialize_token(function(keys) {
	    // console.log(keys.access_token);
	    client.translate(params, function(err, data) {
		    translation = data;
		});
	});

    return translation;
    
}